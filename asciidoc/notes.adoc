### Profiles

  - Application profiles can be configured through command line args or ENV properties
  - The profiles are useful to conditionally activate application beans or configuration
  - If no profiles are specified, the `default` profile will be automatically assigned
  - Having `prod` or `production` profile automatically marks the application environment as `production`
  - Rapidoid has built-in default configuration for the profiles `default`, `dev` and `mysql`

### Serving static files

  - The default locations for serving static files are `default/static` and `static`
  - All resources that exist in these folders will be automatically served when requested
  - The `static` location has precedense over the `default/static` location

### RESTful services

TBD

Please see the examples.

### Session management

  - A HTTP session is a temporary data storage that spans multiple HTTP requests
  - Data is stored in the session to be accessed later, when handling another HTTP request from the same user (and browsing session)
  - *There are 2 different implementations of the session*, server-side session and client-side token as a session

#### Server-side session

The server-side session is a simple in-memory storage in the
			web server. While this is not a problem when running only one web
			server, scaling out is non-trivial, requiring sticky sessions or
			replicating the session, or storing it into some datastore.

#### Token as a HTTP cookie or request parameter

The Token session is not stored by the server. Instead, it
is being serialized and sent to the web browser as a cookie. For the
web browser this is just a normal cookie, so it sends the cookie to
the server attached to the subsequent HTTP requests.
		
This approach allows to have stateless web servers, improving the
scalability of the web application. The main drawback is that the
Token size is very limited. Each browser has different limit for
the size of the cookies, but the safest limit is `4 KB`.

The session cookie is encrypted with the application secret
key. Thus, the user canâ€™t read or modify the Token data in a
malicious way.

The token cookie will expire when the browser is closed.

### Security

  - Role-based security checks for the web handlers are supported out-of-the-box
  - Accessing a protected page without the required roles/privileges will automatically display a nice login page
  - Accessing a protected RESTful service without the required roles/privileges will return error in JSON format
  - Required roles can be configured per route (e.g. `On.get("/review").roles("moderator").json(...)`)
  - Required roles for POJO handlers can configured with annotations (e.g. `@Roles({"moderator", "administrator"})`)
  - Rapidoid includes annotations for the common roles (`@Administrator`, `@Moderator`, `@Manager`, `@LoggedIn`)
  - The `@Administrator` annotation is equivalent to `@Roles("administrator")` or `@Roles(Role.ADMINISTRATOR)`
  - The `@Manager` annotation is equivalent to `@Roles("manager")` or `@Roles(Role.MANAGER)`
  - The `@Moderator` annotation is equivalent to `@Roles("moderator")` or `@Roles(Role.MODERATOR)`
  - The `@LoggedIn` annotation is equivalent to `@Roles("logged_in")` or `@Roles(Role.LOGGED_IN)`
  - `App.bootstrap(args).auth()` will bootstrap the built-in authentication handlers (`POST /_login` and `GET /_logout`)
  - A `POST /_login` request containing `username` and `password` will execute the (custom-configured or default) login handler
  - If the login handler returns `true`, the user was authenticated and the *authentication data* (`username` and `login expiration time`) are saved in the *token*
  - The token is returned by the `POST /_login` handler, but it is also persisted in the `_token` cookie
  - With every request the authentication data is being sent through the token, so the server can identify the user
  - When the browser is closed, the `_token` cookie expires, so the `auth data` is lost
  - The `token` can be sent with a HTTP request as a `_token` cookie, or a `_token` parameter (in the URI or the body)
  - After a configurable time (config `token.ttl` in milliseconds), the authentication of the logged-in user expires
  - A `GET /_logout` request will execute the built-in logout handler which clears the authentication data from the token
  - The built-in `GET /_logout` handler might be changed to `POST /_logout` in future
  - For the `Admin.*` API (which is a mirror of the `On.*` API, but for the Admin setup) the `administrator` role is configured by default.

### JPA

Rapidoid is doing the transaction management, which is activated when a route is marked as transactional using `.tx(...)` or `@Transactional` handler method.

The transaction boundaries match the execution scope of the request handler, so it is transaction-per-request-processing-job.

For custom transaction scope and complete control, `JPA.transaction(...)` can be used.

### Configuration

  - Rapidoid has built-in http://www.rapidoid.org/the-default-configuration.html[default configuration] which provides sensible defaults for many components of the framework
  - Custom configuration can be specified through `config.yml` or `config.yaml` configuration files
  - Profile-specified custom configuration can be specified through `config-&lt;profile-name-here&gt;.yml` or `config-&lt;profile-name-here&gt;.yaml` configuration files
  - The configuration files will tipically be classpath resources, but they can reside in a custom-configured external folder, as well
  - Rapidoid can also be configured through command line args or system/environment properties
  - The custom configuration overrides the built-in default configuration

### Rapidoid's template engine

  - Starting from v5.1, Rapidoid includes new template engine.
  - Basically, it is very similar to Mustache, with the following differences.
  - 1. Using `${x}` instead of `{{x}}`. This avoids collision of the `{{x}}` tags with the front-end libraries (e.g. Angular).
  - 2. Supporting additional `{{?x}}...{{/}}` tag for `if`. The traditional `{{#x}}...{{/x}}` remains unchanged, having both `foreach` and `if` semantics.
  - 3. Providing text alternative if the value if not available e.g. `${x|something else}`

### Reverse proxy and load balancer

  - Starting from v5.2, Rapidoid can be also used as a HTTP reverse proxy and load balancer
  - A basic round-robin load balancer is included and configured as a default one
  - The reverse proxy can be configured programatically (optionally with custom load balancers)
  - The reverse proxy can also be configured from the command-line args
  - The command-line syntax is `/path -> upstream1,upstream2...`
  - e.g. `/foo -> https://upstream1:8080, http://upstream2:8080`

### Basic command-line arguments

++++
include::html/args.html[]
++++
